<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<meta author="软工1702">
	<title>登录 - 惠农 - Thousands Find</title>
	<link rel="stylesheet" type="text/css" th:href="@{/style/register-login.css}">
</head>
<body>
<div id="box"></div>
<div class="cent-box">
	<div class="cent-box-header">
		<h1 class="main-title hide">惠农</h1>
		<h2 class="sub-title">惠农有网，农品共享</h2>
	</div>

	<div class="cont-main clearfix">
		<div class="index-tab">
			<div class="index-slide-nav">
				<a th:href="@{/site/login.html}" class="active">登录</a>
				<a th:href="@{/site/register.html}">注册</a>
				<div class="slide-bar"></div>				
			</div>
		</div>

		<div class="login form">
			<div class="group">
				<div class="group-ipt email">
<!--				<input type="text" name="email" id="email" class="ipt" placeholder="邮箱地址" required>-->
						<input type="text" th:class="|ipt ${usernameMsg!=null?'is-invalid':''}|"
							   th:value="${param.username}"
							   id="username" name="username" placeholder="请输入您的账号" required>
						<div class="invalid-feedback" th:text="${usernameMsg}">
							该账号不存在!
						</div>
				</div>
				<div class="group-ipt password">
<!--					<input type="password" name="password" id="password" class="ipt" placeholder="输入您的登录密码" required>-->
					<input type="password" th:class="|ipt ${passwordMsg!=null?'is-invalid':''}|"
						   th:value="${param.password}"
						   id="password" name="password" placeholder="请输入您的密码" required>
					<div class="invalid-feedback" th:text="${passwordMsg}">
						密码长度不能小于8位!
					</div>
				</div>
				<div class="group-ipt verify">
<!--					<input type="text" name="verify" id="verify" class="ipt" placeholder="输入验证码" required>-->
<!--					<img src="http://zrong.me/home/index/imgcode?id=" class="imgcode">-->
					<input type="text" th:class="|ipt ${codeMsg!=null?'is-invalid':''}|"
						   id="verifycode" name="code" placeholder="请输入验证码">
					<div class="invalid-feedback" th:text="${codeMsg}">
						验证码不正确!
					</div>
					<!--验证码图片-->
					<a href="javascript:refresh_kaptcha();" class="font-size-12 align-bottom">
						<img th:src="@{/kaptcha}" id="kaptcha" style="width:100px;height:40px;" class="imgcode" />
					</a>
				</div>
			</div>
		</div>

		<div class="button">
			<button type="submit" class="login-btn register-btn" id="button">登录</button>
		</div>

		<div class="remember clearfix">
			<label class="remember-me"><span class="icon"><span class="zt"></span></span><input type="checkbox" name="remember-me" id="remember-me" class="remember-mecheck" checked>记住我</label>
			<label class="forgot-password">
				<a href="#">忘记密码？</a>
			</label>
		</div>
	</div>
</div>

<div class="footer">
	<p>惠农网</p>
	<p>Designed By 软工1702 & <a href="zrong.me">mycodes.net</a></p>
</div>

<script src='js1/particles.js' type="text/javascript"></script>
<script src='js1/background.js' type="text/javascript"></script>
<script src='js1/jquery.min.js' type="text/javascript"></script>
<script src='js1/layer/layer.js' type="text/javascript"></script>
<script src='js1/index.js' type="text/javascript"></script>
<script>
	$('.imgcode').hover(function(){
		layer.tips("看不清？点击更换", '.verify', {
        		time: 6000,
        		tips: [2, "#3c3c3c"]
    		})
	},function(){
		layer.closeAll('tips');
	}).click(function(){
		$(this).attr('src','http://zrong.me/home/index/imgcode?id=' + Math.random());
	});
	$("#remember-me").click(function(){
		var n = document.getElementById("remember-me").checked;
		if(n){
			$(".zt").show();
		}else{
			$(".zt").hide();
		}
	});
</script>
<!--刷新验证码-->
<script>
	function refresh_kaptcha() {
		var path = CONTEXT_PATH + "/kaptcha?p=" + Math.random();
		// 下面这个方法是把path写入到上面那个验证码标签的src中去
		$("#kaptcha").attr("src", path);
		// #后面是取的id，将这个id的标签中的src属性内容换成path的内容，path的路径就去访问LoginController中那个生成验证码的方法，它获取的
	}
</script>
</body>
</html>